"use strict";define(["angular","app"],function(a,b){b.directive("lazyLoad",["$document","$window",function(b,c){var d=function(){var a=0,b=[];return{push:function(c){b[a++]=c},del:function(a){b[a]&&delete b[a]},get:function(){return b},size:function(){return b.length}}}(),e=function(a){var b=a[0].getBoundingClientRect();return b.top<=(window.innerHeight||document.documentElement.clientHeight)&&b.left<=(window.innerWidth||document.documentElement.clientWidth)},f=function(){var b=d.get();a.forEach(b,function(a,b){e(a.elem)?a.load(b):!1})},g=function(a){f(),a.$on("scroll",f),window.onresize=f};return{restrict:"EA",scope:{},link:function(a,b,c){b.css({background:"#fff",opacity:0,transition:"opacity .2s","-webkit-transition":"opacity .2s","-moz-transition":"opacity .2s","animation-duration":".2s"}),d.push({elem:b,load:function(a){b.attr("src",c.lazyLoad),b.on("load",function(){b.css({opacity:"1"})}),a>=0&&d.del(a)}}),g(a)}}}])});