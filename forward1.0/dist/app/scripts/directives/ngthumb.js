"use strict";define(["angular","app"],function(a,b){b.directive("ngThumb",["$window",function(b){var c={support:!(!b.FileReader||!b.CanvasRenderingContext2D),isFile:function(c){return a.isObject(c)&&c instanceof b.File},isImage:function(a){var b="|"+a.type.slice(a.type.lastIndexOf("/")+1)+"|";return-1!=="|jpg|png|jpeg|bmp|gif|".indexOf(b)}};return{restrict:"A",template:"<canvas/>",link:function(a,b,d){function e(a){var b=new Image;b.onload=f,b.src=a.target.result}function f(){var a=g.width||this.width/this.height*g.height,b=g.height||this.height/this.width*g.width;h.attr({width:a,height:b}),h[0].getContext("2d").drawImage(this,0,0,a,b)}if(c.support){var g=a.$eval(d.ngThumb);if(c.isFile(g.file)&&c.isImage(g.file)){var h=b.find("canvas"),i=new FileReader;i.onload=e,i.readAsDataURL(g.file)}}}}}])});